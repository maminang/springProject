<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.ca.mapper.shoppingCart">
	
	<select id="selectShoppingCart"
		resultType="kr.ca.domain.ShoppingCartDTO">
		select * from tbl_shopping_cart where id = #{id}
	</select>
	
<!-- 	check amount -->
	<select id="checkAmount" resultType="Integer">
		select amount from
		tbl_shopping_cart where id=#{id} and pno=#{pno}
	</select>
	
<!-- 	oAmount가 Null이 아닐때 -->
	<insert id="insertShoppingCart">
		update tbl_shopping_cart set amount = amount+#{amount} where id=#{id} and pno=#{pno}
	</insert>

<!-- 	oAmount가 Null일때 -->
	<insert id="insertShoppingCartNull">
		insert into tbl_shopping_cart values (#{id}, #{pno}, #{amount})
	</insert>
	
<!-- 	장바구니 list	 -->
	<select id="listShoppingCart" resultType="kr.ca.domain.ShoppingCartDTO">
		select * from tbl_shopping_cart where id = #{id} order by pno desc
	</select>

	
</mapper>










